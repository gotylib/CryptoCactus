<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="tableStyle.css">
    </head>
    </head>
    <body>
        <h1><span class="blue">&lt;</span>BTC<span class="blue">&gt;</span> <span class="yellow">Price</pan></h1>
        <h2>Progect EVA</h2>

        <table class="container">
            <thead>
                <tr>
                    <th><h1>Exchange</h1></th>
                    <th><h1>Value</h1></th>

                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Bybit</td>
                    <td id="Bybit"></td>

                </tr>
                <tr>
                    <td>Okx</td>
                    <td id="Okx"></td>

                </tr>
                <tr>
                    <td>HTX</td>
                    <td id="HTX"></td>

                </tr>
                <tr>
                    <td>BingX</td>
                    <td id="BingX"></td>

                </tr>
                <tr>
                    <td>BitGet</td>
                    <td id="BitGet"></td>

                </tr>
                <tr>
                    <td>Kucoin</td>
                    <td id="Kucoin"></td>

                </tr>
                <tr>
                    <td>Huobi</td>
                    <td id="Huobi"></td>

                </tr>
            </tbody>
        </table>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.1/signalr.js"></script>
        <script>
            const hubConnection = new signalR.HubConnectionBuilder()
                .withUrl("/chat")
                .build();

            let intervalIdETH;

            hubConnection.on("Receive", function (data) {
                document.getElementById('Bybit').innerText = data[0];
                document.getElementById('Okx').innerText = data[1];
                document.getElementById('HTX').innerText = data[2];
                document.getElementById('BitGet').innerText = data[3];
                document.getElementById('BingX').innerText = data[4];
                document.getElementById('Kucoin').innerText = data[5];
                document.getElementById('Huobi').innerText = data[6];
            });

            hubConnection.start()
                .then(function () {
                    intervalIdETH = setInterval(() => {
                        hubConnection.invoke("Send", "BTC");
                    }, 1000);
                })
                .catch(function (err) {
                    return console.error(err.toString());
                });
        </script>
    </body>
</html>
